<p align="center">
  <a href="https://github.com/actions/typescript-action/actions"><img alt="typescript-action status" src="https://github.com/actions/typescript-action/workflows/build-test/badge.svg"></a>
</p>

# GitHub Actions Documenter

Auto generate github actions document from yml file.

## Support actions

* [Reusable Workflows](https://docs.github.com/en/actions/using-workflows/reusing-workflows)
* `WIP:` [Custom Actions](https://docs.github.com/en/actions/creating-actions/about-custom-actions)

## How to use

1. Make an awesome reusable workflow on your repository
2. Set reusable workflow in your repository
   * You can use [this workflow](#-reusable-workflows-usage-) and just call it to complete the setup.

For the additional documentation, this feature supports comment annotation features in your workflow file.

|#|Annotation|value|description|
|:---:|:---|:---|:---|
|1|@example|title with markdown value (e.g. ### Title)|`@example` can make examples with a code block and insert those comments under the each workflow title.|
|1|@note|title with markdown value (e.g. ### Title)|`@note` can make notes with a raw markdown and insert those comments at the bottom of the generated document.|

* You can find an example from the followings.
  * [Annotation Comment](.github/workflows/github-actions-documenter.yml)
  * [Generated document](#-reusable-workflows-usage-)

# üî∞ Actions Usage„ÄÄüî∞

## GitHub Actions Document Generator

> Support only output markdown document for now. Will support file edit and commit.
> Please refer to [this file](.github/workflows/github-actions-documenter.yml) for actual usage.

### Basic Example

```yml
uses: gizumon/github-actions-documenter@main
```

### Outputs

| # | Name | Description |
| :--- | :--- | :--- |
| 1 | document | Reusable workflow markdown document |
| 2 | agenda | Reusable workflow agenda |


@overwrite-anchor

---

> üöÄ Generated automatically by [github-actions-documenter](https://github.com/gizumon/github-actions-documenter) üöÄ
‚ö†Ô∏è This is a generated markdown file. Do not edit this file manually.


# üî∞ Reusable Workflows Usage üî∞

* [Reusable Workflow Documentator](#1-github-actions-documenter) ( [üìÑ](.github/workflows/github-actions-documenter.yml) )

## 1: Reusable Workflow Documentator
### Example1: Basic example

```
 name: "Basic example"
 on:
   pull_request:
     paths:
       - .github/workflows/*.yml
 jobs:
   test:
     uses: gizumon/github-actions-documenter/.github/workflows/github-actions-documenter.yml@main
     with:
       filepath: README.md
```

### Example2: Advanced example (with GHES support)

```
 name: "Advanced example"
 on:
   pull_request:
     paths:
       - .github/workflows/*.yml
 jobs:
   test:
     uses: gizumon/github-actions-documenter/.github/workflows/github-actions-documenter.yml@main
     with:
       filepath: .github/docs/reusable-workflow-doc.md
       overwrite: true
       make-pull-request: true
       github-base-url: "https://some-enterprise.github.com/api/v3"
```

### Inputs

| # | Required | Type | Name | Default | Description |
| :--- | :---: | :---: | :--- | :--- | :--- |
| 1 | ‚úÖ | string | filepath | README.md | Filepath to write the generated reusable workflow document. (default: README.md) |
| 2 |  | string | github-base-url | https://api.github.com | GitHub Host domain (Support for GitHub Enterprise) (default: https://api.github.com) |
| 3 |  | boolean | overwrite | false | If true, overwrite the filepath file. (default: false) |
| 4 |  | boolean | make-pull-request | false | If true, make a pull request to ref branch. If false, directly push to ref branch. (default: false) |

### Outputs

| # | Name | Description |
| :--- | :--- | :--- |
| 1 | document | Reusable workflow markdown document |
| 2 | agenda | Reusable workflow agenda |


### Support events

 - push
 - pull_request

